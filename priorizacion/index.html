<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
            <link rel="icon" href="logo.png" type="image/x-icon">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Criterios</title>
</head>
<body>
    <header class="headerMod">
        <img src="logo.png" alt="Logo" class="logo">
        <img src="Tux.PNG" alt="tux" class="tux">
    </header>
    <a href="https://nanox21.github.io/ECICEPFINAL/" target="_blank" class="button-link">Calculadora ECICEP</a>

    <h1>Criterios de sub-priorizaci√≥n para Cuidado Integral de la multimorbilidad severa (G3)</h1>
    <form>
        <label>HbA1c > 11%:</label>
        <label>
            <input type="radio" name="hba1c" value="1"> S√≠
        </label>
        <label>
            <input type="radio" name="hba1c" value="0"> No
        </label>
        <br>
        <label>Presi√≥n Arterial ‚â• 180/110 mmHg en al menos 2 tomas distintas de acuerdo a procedimiento est√°ndar</label>
        <label>
            <input type="radio" name="PA" value="1"> S√≠
        </label>
        <label>
            <input type="radio" name="PA" value="0"> No
        </label>
        <br>
        <label>Polifarmacia (‚â• 7 medicamentos distintos diarios)</label>
        <label>
            <input type="radio" name="poli" value="1"> S√≠
        </label>
        <label>
            <input type="radio" name="poli" value="0"> No
        </label>
        <br>
        <label>Hospitalizaci√≥n por descompensaci√≥n de patolog√≠a cr√≥nica en los √∫ltimos 3 meses</label>
        <label>
            <input type="radio" name="hospitalizacion" value="2"> S√≠
        </label>
        <label>
            <input type="radio" name="hospitalizacion" value="0"> No
        </label>
        <br>
        <label>Amputaci√≥n por DM hace menos de 6 meses</label>
        <label>
            <input type="radio" name="amputacion" value="2"> S√≠
        </label>
        <label>
            <input type="radio" name="amputacion" value="0"> No
        </label>
        <br>
        <label>Persona de 75 a√±os y m√°s que presenta 1 o m√°s de las siguientes caracter√≠sticas:</label>
        <ul>
            <li>Diagn√≥stico funcional de autovalente con riesgo, en riesgo de dependencia o dependiente.</li>
            <li>Riesgo de ca√≠das alto, evaluado por test ‚Äúget up and go‚Äù.</li>
            <li>No cuenta con redes de apoyo.</li>
        </ul>
        <label>
            <input type="radio" name="adultoMayor" value="1"> S√≠
        </label>
        <label>
            <input type="radio" name="adultoMayor" value="0"> No
        </label>
        <br>
        <label>√ölcera activa en EEII </label>
        <label>
            <input type="radio" name="ulcera" value="1"> S√≠
        </label>
        <label>
            <input type="radio" name="ulcera" value="0"> No
        </label>
        <br>
        <label>Ideaci√≥n o intento suicida (registrada hace menos de 6 meses)</label>
        <label>
            <input type="radio" name="ideacion" value="1"> S√≠
        </label>
        <label>
            <input type="radio" name="ideacion" value="0"> No
        </label>
        <br>
        <label>Educaci√≥n mayor a 12 a√±os</label>
        <label>
            <input type="radio" name="educacion" value="-1"> S√≠
        </label>
        <label>
            <input type="radio" name="educacion" value="0"> No
        </label>
        <br>
        <label>Redes de apoyo activas</label>
        <label>
            <input type="radio" name="redes" value="-1"> S√≠
        </label>
        <label>
            <input type="radio" name="redes" value="0"> No
        </label>
        <br>
        <button type="button" onclick="calculatePoints()">Calcular</button>
        <button type="button" onclick="clearForm()">Limpiar</button>
    </form>
    <p>Total de puntos: <span id="totalPoints">0</span></p>

    <script>
        let totalPoints = 0;

        // Calcular los puntos totales
        function calculatePoints() {
            totalPoints = 0; // Reiniciar los puntos antes de calcular

            // Verificar si todos los √≠tems est√°n seleccionados
            if (allItemsSelected()) {
                // Obtener todos los radios seleccionados
                const selectedOptions = document.querySelectorAll('input[type="radio"]:checked');
                selectedOptions.forEach(option => {
                    totalPoints += parseInt(option.value); // Sumar los valores seleccionados
                });
                updateTotalPoints(); // Actualizar la visualizaci√≥n de puntos totales
            } else {
                document.getElementById('totalPoints').textContent = 'Seleccione todas las respuestas.';
            }
        }

        // Verificar si todos los √≠tems est√°n seleccionados
        function allItemsSelected() {
            const questions = document.querySelectorAll('input[type="radio"]');
            const groups = [...new Set([...questions].map(input => input.name))];

            let allSelected = true;

            // Verificar si cada grupo tiene una opci√≥n seleccionada
            for (const group of groups) {
                const selected = document.querySelector(`input[name="${group}"]:checked`);
                const groupLabels = document.querySelectorAll(`input[name="${group}"]`);
                if (!selected) {
                    allSelected = false; // Si alg√∫n grupo no tiene seleccionada una opci√≥n, marcar como no completo
                    groupLabels.forEach(input => input.parentNode.classList.add('unanswered')); // A√±adir clase para marcar en rojo
                } else {
                    groupLabels.forEach(input => input.parentNode.classList.remove('unanswered')); // Quitar clase si ya est√° respondido
                }
            }
            return allSelected; // Retornar true solo si todas las opciones est√°n seleccionadas
        }

        // Mostrar el total de puntos en el documento
        function updateTotalPoints() {
            document.getElementById('totalPoints').textContent = totalPoints;
        }

        // Funci√≥n para limpiar el formulario y resetear los puntos
        function clearForm() {
            // Restablecer los puntos a cero
            totalPoints = 0;
            updateTotalPoints();

            // Deseleccionar todas las opciones de radio
            const radios = document.querySelectorAll('input[type="radio"]');
            radios.forEach(radio => radio.checked = false);

            // Quitar la clase 'unanswered' de todos los labels
            const labels = document.querySelectorAll('label');
            labels.forEach(label => label.classList.remove('unanswered'));
        }
    </script>
</body>
    <footer class="footer">
                                Powered by E.U Hernando Gayoso Navarrete.

    <a href="mailto:nanox21@gmail.com" target="_blank">üì®Contacto</a>
</footer>

</html>
